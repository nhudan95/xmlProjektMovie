<?xml version="1.0"?>
<map:sitemap 
	xmlns:map="http://apache.org/cocoon/sitemap/1.0">
	<!-- =========================== Components ================================ -->
	<!-- keine speziellen Angaben benoetigt -->
	<map:components>
		<!-- Wird die Nutzung von saxon generell bevorzugt, so empfiehlt es sich, an dieser Stelle xslt-saxon einzutragen -->
		<map:transformers default="xslt-xalan">
			<!-- Konfiguration für xalan, modifiziert, um die Auswertung von Request-Parametern zu ermöglichen -->
			<map:transformer name="xslt-xalan" src="org.apache.cocoon.transformation.TraxTransformer">
				<xslt-processor-role>xalan</xslt-processor-role>
				<use-request-parameters>true</use-request-parameters>
				<use-session-parameters>false</use-session-parameters>
				<use-cookie-parameters>false</use-cookie-parameters>
				<check-includes>true</check-includes>
			</map:transformer>
			<!-- Konfiguration für saxon -->
			<map:transformer name="xslt-saxon" src="org.apache.cocoon.transformation.TraxTransformer">
				<xslt-processor-role>saxon</xslt-processor-role>
				<use-request-parameters>true</use-request-parameters>
				<use-session-parameters>false</use-session-parameters>
				<use-cookie-parameters>false</use-cookie-parameters>
				<check-includes>true</check-includes>
			</map:transformer>
		</map:transformers>
	</map:components>
	<!-- =========================== Views =================================== -->
	<!-- keine speziellen Angaben benoetigt -->
	<!-- =========================== Pipelines ================================= -->
	<map:pipelines>
		<map:pipeline>
			<map:match pattern="">
				<map:redirect-to uri="welcome"/>
			</map:match>
			<map:match pattern="welcome">
				<!--<map:read src="index.html" mime-type="text/html"/><map:serialize type="html"/>-->
				<map:generate src="movie/xml/movie_XML.xml"/>
				<map:transform type="xslt-saxon" src="movie/xslt/index.xsl"/>
				<map:serialize type="html"/>
			</map:match>
			<!-- Cocoon Icon -->
			<map:match pattern="**favicon.ico">
				<map:read src="movie/img/cocoon.ico" mime-type="application/ico"/>
			</map:match>
			<!-- sonstige Bilder -->
			<map:match pattern="img/*.*">
				<map:read src="movie/img/{1}.{2}" mime-type="image/{2}"/>
			</map:match>
			<!-- css -->
			<map:match pattern="*.css">
				<map:read src="movie/css/{1}.css" mime-type="text/css"/>
			</map:match>
			<!-- html -->
			<map:match pattern="*.html">
				<map:read src="{1}.html" mime-type="text/html"/>
			</map:match>
		</map:pipeline>
		<!-- Weiterleiten auf Unteranwendungen -->
		<map:pipeline>
			<map:match pattern="*/**">
				<map:mount uri-prefix="{1}" src="{1}/" check-reload="yes"/>
			</map:match>
		</map:pipeline>
	</map:pipelines>
</map:sitemap>

